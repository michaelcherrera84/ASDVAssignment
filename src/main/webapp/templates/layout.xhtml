<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>#{title}</title>
    <h:outputStylesheet library="css" name="default.css"/>
    <h:outputStylesheet library="css" name="#{_header eq false ? '_.css' : 'header.css'}"/>
    <h:outputStylesheet library="css" name="#{main eq false ? '_.css' : 'main.css'}"/>
    <h:outputScript library="js" name="script.js"/>
    <ui:insert name="head"/>
    <style>
        .header {grid-area: header;}
        .left {grid-area: left;}
        .main {grid-area: main;}
        .right {grid-area: right;}
        .footer {grid-area: footer;}
        .template {
            display: grid;
            grid-template:
                '#{area1} #{area2} #{area3}'
                '#{area4} #{area5} #{area6}'
                '#{area7} #{area8} #{area9}'
                / #{col1} #{col2} #{col3};
        }
    </style>
</h:head>

<h:body>
    <div id="wrapper">
        <h:form id="user_form">
            <p:avatar id="user_avatar" icon="pi pi-user" size="xlarge" styleClass="ui-avatar"/>
            <p:menu overlay="true" trigger="user_avatar" my="left top" at="left bottom">
                <p:menuitem value="#{msgs.logOut}" icon="pi pi-sign-out" action="#{loginBean.logout(true)}"/>
            </p:menu>
        </h:form>
        <div id="template" class="template">
            <header id="header" class="header">
                <ui:fragment rendered="#{empty _header ? true : _header}">
                    <ui:insert name="header"/>
                </ui:fragment>
            </header>

            <div id="left" class="left">
                <ui:fragment rendered="#{empty left ? true : left}">
                    <ui:insert name="left"/>
                </ui:fragment>
            </div>

            <main id="main" class="main">
                <ui:fragment rendered="#{empty main ? true : main}">
                    <ui:insert name="main"/>
                </ui:fragment>
            </main>

            <div id="right" class="right">
                <ui:fragment rendered="#{empty right ? true : right}">
                    <ui:insert name="right"/>
                </ui:fragment>
            </div>

            <footer id="footer" class="footer">
                <ui:fragment rendered="#{empty footer ? true : footer}">
                    <ui:insert name="footer"/>
                </ui:fragment>
            </footer>
        </div>
    </div>
</h:body>

</html>